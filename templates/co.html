{% extends 'base.html' %}

{% block content %}
<!-- Load FileSaver.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

<div class="course-outline-container">
    <div class="course-outline-form">
        <h2>Course Outline Generator</h2>
        <form id="courseOutlineForm" onsubmit="return false;">
            <label>Course Title:</label>
            <input type="text" id="course_title" required>

            <label>Course Code:</label>
            <input type="text" id="course_code" required>

            <label>Education Level:</label>
            <select id="education_level" required>
                <option value="" disabled selected>Select Education Level</option>
                <option value="Primary">Primary</option>
                <option value="Middle">Middle</option>
                <option value="High School">High School</option>
                <option value="Undergraduate">Undergraduate</option>
                <option value="Postgraduate">Postgraduate</option>
            </select>

            <label>Credit Hours:</label>
            <input type="number" id="credit_hours" min="1" max="6" required>

            <label>Prerequisites:</label>
            <input type="text" id="prerequisites" placeholder="Optional">

            <button type="button" id="generateButton" onclick="generateCourseOutline()">Generate Course Outline</button>

            <div id="loadingIndicator" style="display: none;">
                <p>Generating course outline, please wait...</p>
                <div class="loading-bar"><div class="loading-fill"></div></div>
            </div>
        </form>
    </div>

    <div class="course-outline-output">
        <h2>Generated Course Outline Content</h2>
        <pre id="courseOutlineOutput"></pre>

        <!-- Buttons shown after course outline is generated -->
        <button id="editButton" style="display: none;" onclick="enableEdit()">Edit</button>

        <!-- Link for downloading the course outline DOCX -->
        <a id="downloadLink" href="#" style="display: none;" download>
            <button type="button" id="downloadButton">Download Course Outline (DOCX)</button>
        </a>
    </div>
</div>


{% endblock %}